ğŸš€ QUICK DEPLOYMENT GUIDE - TND Mobile Fix
===========================================

ğŸ“¦ UPLOAD FILES (14 files total)
---------------------------------
Backend PHP (12 files):
  â”œâ”€â”€ .htaccess
  â”œâ”€â”€ api/outlets.php
  â”œâ”€â”€ api/report-overview.php
  â”œâ”€â”€ api/report-by-outlet.php
  â”œâ”€â”€ api/improvement-recommendations.php
  â”œâ”€â”€ api/visits-create.php
  â”œâ”€â”€ api/visit-complete.php
  â”œâ”€â”€ api/visit-photo-upload.php
  â”œâ”€â”€ utils/Auth.php
  â”œâ”€â”€ classes/Visit.php
  â”œâ”€â”€ classes/Audit.php
  â””â”€â”€ classes/Outlet.php

Setup Scripts (2 files):
  â”œâ”€â”€ create-upload-dirs.php (DELETE after running!)
  â””â”€â”€ migrate-database-complete.php (DELETE after running!)

ğŸ”§ DEPLOYMENT STEPS
-------------------
1. Upload 14 files ke cPanel File Manager
   â†’ Path: ~/public_html/backend-web/

2. Run setup scripts via browser (IN ORDER!)
   â†’ URL 1: https://tndsystem.online/backend-web/create-upload-dirs.php
   â†’ Verify: All âœ… green checkmarks
   â†’ DELETE file after success
   
   â†’ URL 2: https://tndsystem.online/backend-web/migrate-database-complete.php
   â†’ Verify: Both tables migrated âœ…
   â†’ CHECK: visit_photos & visit_checklist_responses have checklist_item_id
   â†’ DELETE file after success

3. Rebuild mobile app
   â†’ cd tnd_mobile_flutter
   â†’ flutter clean && flutter pub get && flutter build apk

4. Install APK baru di device

âœ… TEST CHECKLIST
-----------------
[ ] Login (already working)
[ ] Start Visit â†’ Outlet list by division
[ ] Report â†’ Data loaded
[ ] Recommendations â†’ No 401
[ ] Profile â†’ Show full_name, division
[ ] Checklist Responses â†’ Save âœ“/âœ—/N/A (no 500!)
[ ] Photo Upload â†’ No 500, size ~50-100KB

ğŸ¯ EXPECTED FIXES
-----------------
âœ… Authorization header forwarded
âœ… Outlet filtered by division_id
âœ… Database columns fixed (started_at, completed_at, u.name)
âœ… Image compressed 70% quality, 1280x720
âœ… Upload directories created with 755 permissions

âš ï¸ IMPORTANT
-------------
- Backup old files first
- Delete create-upload-dirs.php after running
- Check backend-web/logs/ if any errors
- Monitor upload file sizes (should be <100KB)

ğŸ“„ Full Details: See DEPLOYMENT_FILES_LIST.md
